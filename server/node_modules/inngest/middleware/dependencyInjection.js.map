{"version":3,"file":"dependencyInjection.js","names":[],"sources":["../../src/middleware/dependencyInjection.ts"],"sourcesContent":["import { InngestMiddleware } from \"../components/InngestMiddleware.ts\";\n\n/**\n * Adds properties to the function input for every function created using this\n * app.\n */\n// We can use `const` here yet due to TS constraints.\n\n// biome-ignore lint/suspicious/noExplicitAny: unknown can be troublesome here\nexport const dependencyInjectionMiddleware = <TCtx extends Record<string, any>>(\n  /**\n   * The context to inject into the function input.\n   */\n  ctx: TCtx,\n) => {\n  return new InngestMiddleware({\n    name: \"Inngest: Dependency Injection\",\n    init() {\n      return {\n        onFunctionRun() {\n          return {\n            transformInput() {\n              return {\n                ctx,\n              };\n            },\n          };\n        },\n      };\n    },\n  });\n};\n"],"mappings":";;;;;;;AASA,MAAa,iCAIX,QACG;AACH,QAAO,IAAI,kBAAkB;EAC3B,MAAM;EACN,OAAO;AACL,UAAO,EACL,gBAAgB;AACd,WAAO,EACL,iBAAiB;AACf,YAAO,EACL,KACD;OAEJ;MAEJ;;EAEJ,CAAC"}